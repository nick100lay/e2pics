# E2Pics
HTTP-сервер, позволяющий получить ARGB-цвета пикселей изображения.
## Установка

1) Склонируйте репозиторий.
2) Созайдте виртуальное окружение.
3) Введите следующую команду в директории репозитория
```sh
pip install -r requirements.txt
```

## Запуск
Чтобы запустить, необходимо выполнить команду
```sh
uvicorn e2pics.app:app --host <хост> --port <порт>
```

## Использование
Чтобы получить цвета пикселей, необходимо выполнить GET-запрос на /picpix со следующими URL-параметрами:
* img_url (обязательный) - URL картинки;
* i (обязательный) - начальная позиция в одномерном массиве выходного изображения;
* cap (обязательный) - размер выходного буфера;
* w (обязательный) - желаемая ширина выходного изображения;
* h (обязательный) - желаемая высота выходного изображения;
* keep_aspect_ratio (необязательный, по умолчанию равен 0) - изменить размер исходной картинки до w и h с сохранением исходного соотношение сторон.

На выходе HTTP-запрос вернет текст из целых чисел в 36-ичной системе счисления, разделенных между собой одним пробелом.
Каждое число закодировано под цвет пикселя в формате ARGB, т.е.:
```py
argb = int(argb_str, base=36)
alpha = (argb & 0xFF000000) >> 24
red = (argb & 0x00FF0000) >> 16
green = (argb & 0x0000FF00) >> 8
blue =  (argb & 0x000000FF)
```